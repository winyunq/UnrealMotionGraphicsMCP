[13:28:23] ========================================
[13:28:23] === WRAPPER STARTED (Gemini -> Wrapper -> Server) ===
[13:28:23] ========================================
[13:28:23] Launching subprocess: ['D:\\UE5Project\\CLIUMGMCP\\plugins\\PublicUmgMcp\\Resources\\Python\\.venv\\Scripts\\python.exe', '-u', 'D:\\UE5Project\\CLIUMGMCP\\plugins\\PublicUmgMcp\\Resources\\Python\\UmgMcpServer.py']
[13:28:23] Thread: Stdin forwarding started.
[13:28:23] Thread: Stdout forwarding started.
[13:28:23] Thread: Stderr forwarding started.
[13:28:23] REQ [Gemini->Server]: {"method":"initialize","params":{"protocolVersion":"2025-11-25","capabilities":{"roots":{"listChanged":true}},"clientInfo":{"name":"gemini-cli-mcp-client","version":"0.0.1"}},"jsonrpc":"2.0","id":0}
[13:28:23] REQ forwarded.
[13:28:23] RES [Server->Gemini]: {"jsonrpc":"2.0","id":0,"result":{"protocolVersion":"2025-11-25","capabilities":{"experimental":{},"prompts":{"listChanged":false},"resources":{"subscribe":false,"listChanged":false},"tools":{"listChanged":false}},"serverInfo":{"name":"UmgMcp","version":"1.23.1"}}}
[13:28:23] RES forwarded.
[13:28:23] REQ [Gemini->Server]: {"method":"notifications/initialized","jsonrpc":"2.0"}
[13:28:23] REQ forwarded.
[13:28:23] REQ [Gemini->Server]: {"method":"prompts/list","params":{},"jsonrpc":"2.0","id":1}
[13:28:23] REQ forwarded.
[13:28:23] RES [Server->Gemini]: {"jsonrpc":"2.0","id":1,"result":{"prompts":[{"name":"analyze_umg_structure","description":"Analyze the structure of the **Active Target** UMG.","arguments":[]},{"name":"generate_layout_code","description":"Generate Python code to recreate the **Active Target** UMG.","arguments":[]}]}}
[13:28:23] RES forwarded.
[13:28:23] REQ [Gemini->Server]: {"method":"tools/list","params":{},"jsonrpc":"2.0","id":2}
[13:28:23] REQ forwarded.
[13:28:23] RES [Server->Gemini]: {"jsonrpc":"2.0","id":2,"result":{"tools":[{"name":"get_widget_schema","description":"Retrieves the schema for a widget type (e.g., 'Button', 'CanvasPanel'). Defines available properties for `set_widget_properties`. \n**Scope**: Global System.","inputSchema":{"properties":{"widget_type":{"title":"Widget Type","type":"string"}},"required":["widget_type"],"title":"get_widget_schemaArguments","type":"object"},"outputSchema":{"properties":{"result":{"additionalProperties":true,"title":"Result","type":"object"}},"required":["result"],"title":"get_widget_schemaOutput","type":"object"}},{"name":"get_creatable_widget_types","description":"Returns a list of all widget classes that can be created. \n**Scope**: Global System.","inputSchema":{"properties":{},"title":"get_creatable_widget_typesArguments","type":"object"},"outputSchema":{"properties":{"result":{"additionalProperties":true,"title":"Result","type":"object"}},"required":["result"],"title":"get_creatable_widget_typesOutput","type":"object"}},{"name":"get_target_umg_asset","description":"Gets the current **Active Target** path. Use this to confirm context.","inputSchema":{"properties":{},"title":"get_target_umg_assetArguments","type":"object"},"outputSchema":{"properties":{"result":{"additionalProperties":true,"title":"Result","type":"object"}},"required":["result"],"title":"get_target_umg_assetOutput","type":"object"}},{"name":"get_last_edited_umg_asset","description":"Gets the path of the last edited UMG asset from History.","inputSchema":{"properties":{},"title":"get_last_edited_umg_assetArguments","type":"object"},"outputSchema":{"properties":{"result":{"additionalProperties":true,"title":"Result","type":"object"}},"required":["result"],"title":"get_last_edited_umg_assetOutput","type":"object"}},{"name":"get_recently_edited_umg_assets","description":"Gets a list of recently edited UMG assets.","inputSchema":{"properties":{"max_count":{"default":5,"title":"Max Count","type":"integer"}},"title":"get_recently_edited_umg_assetsArguments","type":"object"},"outputSchema":{"properties":{"result":{"additionalProperties":true,"title":"Result","type":"object"}},"required":["result"],"title":"get_recently_edited_umg_assetsOutput","type":"object"}},{"name":"set_target_umg_asset","description":"Sets the **Active Target**. Updates the Cache. If the asset doesn't exist, it will be CREATED.","inputSchema":{"properties":{"asset_path":{"title":"Asset Path","type":"string"}},"required":["asset_path"],"title":"set_target_umg_assetArguments","type":"object"},"outputSchema":{"properties":{"result":{"additionalProperties":true,"title":"Result","type":"object"}},"required":["result"],"title":"set_target_umg_assetOutput","type":"object"}},{"name":"get_widget_tree","description":"Fetches the full hierarchy of widgets. Use this to find `parent_name` for creation.","inputSchema":{"properties":{},"title":"get_widget_treeArguments","type":"object"},"outputSchema":{"properties":{"result":{"additionalProperties":true,"title":"Result","type":"object"}},"required":["result"],"title":"get_widget_treeOutput","type":"object"}},{"name":"query_widget_properties","description":"Reads specific properties (e.g., 'Slot.Size') from a widget.","inputSchema":{"properties":{"widget_name":{"title":"Widget Name","type":"string"},"properties":{"type":"array","items":{"type":"string"},"title":"Properties"}},"required":["widget_name","properties"],"title":"query_widget_propertiesArguments","type":"object"},"outputSchema":{"properties":{"result":{"additionalProperties":true,"title":"Result","type":"object"}},"required":["result"],"title":"query_widget_propertiesOutput","type":"object"}},{"name":"get_layout_data","description":"Calculates screen-space bounding boxes for widgets.","inputSchema":{"properties":{"resolution_width":{"default":1920,"title":"Resolution Width","type":"integer"},"resolution_height":{"default":1080,"title":"Resolution Height","type":"integer"}},"title":"get_layout_dataArguments","type":"object"},"outputSchema":{"properties":{"result":{"additionalProperties":true,"title":"Result","type":"object"}},"required":["result"],"title":"get_layout_dataOutput","type":"object"}},{"name":"create_widget","description":"Adds a new widget. \n**Implicit Parent**: If `parent_name` is omitted, uses implicit parent (Active Widget -> Root).","inputSchema":{"properties":{"parent_name":{"title":"Parent Name","type":"string"},"widget_type":{"title":"Widget Type","type":"string"},"new_widget_name":{"title":"New Widget Name","type":"string"}},"required":["parent_name","widget_type","new_widget_name"],"title":"create_widgetArguments","type":"object"},"outputSchema":{"properties":{"result":{"additionalProperties":true,"title":"Result","type":"object"}},"required":["result"],"title":"create_widgetOutput","type":"object"}},{"name":"set_widget_properties","description":"Modifies properties of an existing widget.","inputSchema":{"properties":{"widget_name":{"title":"Widget Name","type":"string"},"properties":{"type":"object","additionalProperties":true,"title":"Properties"}},"required":["widget_name","properties"],"title":"set_widget_propertiesArguments","type":"object"},"outputSchema":{"properties":{"result":{"additionalProperties":true,"title":"Result","type":"object"}},"required":["result"],"title":"set_widget_propertiesOutput","type":"object"}},{"name":"delete_widget","description":"Removes a widget from the tree.","inputSchema":{"properties":{"widget_name":{"title":"Widget Name","type":"string"}},"required":["widget_name"],"title":"delete_widgetArguments","type":"object"},"outputSchema":{"properties":{"result":{"additionalProperties":true,"title":"Result","type":"object"}},"required":["result"],"title":"delete_widgetOutput","type":"object"}},{"name":"reparent_widget","description":"Moves a widget to a new parent.","inputSchema":{"properties":{"widget_name":{"title":"Widget Name","type":"string"},"new_parent_name":{"title":"New Parent Name","type":"string"}},"required":["widget_name","new_parent_name"],"title":"reparent_widgetArguments","type":"object"},"outputSchema":{"properties":{"result":{"additionalProperties":true,"title":"Result","type":"object"}},"required":["result"],"title":"reparent_widgetOutput","type":"object"}},{"name":"save_asset","description":"Saves the asset to disk.","inputSchema":{"properties":{},"title":"save_assetArguments","type":"object"},"outputSchema":{"properties":{"result":{"additionalProperties":true,"title":"Result","type":"object"}},"required":["result"],"title":"save_assetOutput","type":"object"}},{"name":"export_umg_to_json","description":"Converts the UMG asset to a JSON representation.","inputSchema":{"properties":{"asset_path":{"title":"Asset Path","type":"string"}},"required":["asset_path"],"title":"export_umg_to_jsonArguments","type":"object"},"outputSchema":{"properties":{"result":{"additionalProperties":true,"title":"Result","type":"object"}},"required":["result"],"title":"export_umg_to_jsonOutput","type":"object"}},{"name":"apply_layout","description":"Applies a bulk layout definition (HTML/JSON).","inputSchema":{"properties":{"layout_content":{"title":"Layout Content","type":"string"}},"required":["layout_content"],"title":"apply_layoutArguments","type":"object"},"outputSchema":{"properties":{"result":{"additionalProperties":true,"title":"Result","type":"object"}},"required":["result"],"title":"apply_layoutOutput","type":"object"}},{"name":"apply_json_to_umg","description":"[Deprecated] Use apply_layout instead.","inputSchema":{"properties":{"asset_path":{"title":"Asset Path","type":"string"},"json_data":{"additionalProperties":true,"title":"Json Data","type":"object"}},"required":["asset_path","json_data"],"title":"apply_json_to_umgArguments","type":"object"},"outputSchema":{"properties":{"result":{"additionalProperties":true,"title":"Result","type":"object"}},"required":["result"],"title":"apply_json_to_umgOutput","type":"object"}},{"name":"refresh_asset_registry","description":"Forces Unreal to re-scan the disk for assets.","inputSchema":{"properties":{"paths":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"default":null,"title":"Paths"}},"title":"refresh_asset_registryArguments","type":"object"},"outputSchema":{"properties":{"result":{"additionalProperties":true,"title":"Result","type":"object"}},"required":["result"],"title":"refresh_asset_registryOutput","type":"object"}}]}}
[13:28:23] RES forwarded.
[13:28:37] REQ [Gemini->Server]: {"method":"tools/call","params":{"name":"set_target_umg_asset","arguments":{"asset_path":"/Game/GeminiTestBlueprint"}},"jsonrpc":"2.0","id":3}
[13:28:37] REQ forwarded.
[13:28:40] RES [Server->Gemini]: {"jsonrpc":"2.0","id":3,"result":{"content":[{"type":"text","text":"{\n  \"status\": \"error\",\n  \"error\": \"timed out\"\n}"}],"structuredContent":{"result":{"status":"error","error":"timed out"}},"isError":false}}
[13:28:40] RES forwarded.
[13:30:46] Gemini sent EOF (Stdin closed). Stopping wrapper.
[13:30:46] Server sent EOF (Stdout closed).
[13:30:46] Subprocess exited with 0
[13:30:46] === WRAPPER ENDED ===
